const studentDetails = [{
    name: 'John David',
    term: 'First Term',
    studentNumber : 'student0001',
    year: '2021/22',
    currentClass: 'JSS 3',
    result : {
      score:{
        english: 60,
        maths: 50,
        physcis: 64,
        chemistry: 60,
        biology: 72,
        crs: 45,
        civicEducation: 33,
        agric: 90,
        marketing: 83,
      },
      grade: {
        english: 'B2',
        maths: 'C4',
        physcis: 'B2',
        chemistry: 'B2',
        biology: 'A1',
        crs: 'D7',
        civicEducation: 'F9',
        agric: 'A1',
        marketing: 'A1',
      }
    }
  },{
    name: 'John David',
    term: 'Second Term',
    studentNumber : 'student0002' ,
    year: '2021/22',
    currentClass: 'JSS 3',
    result : {
      score:{
        english: 88,
        maths: 72,
        physcis: 74,
        chemistry: 35,
        biology: 77,
        crs: 90,
        civicEducation: 60,
        agric: 80,
        marketing: 93,
      },
      grade: {
        english: 'A1',
        maths: 'A1',
        physcis: 'A1',
        chemistry: 'F9',
        biology: 'A1',
        crs: 'A1',
        civicEducation: 'B2',
        agric: 'A1',
        marketing: 'A1',
      }
    }
    
  },{
    name: 'John David',
    term: 'Thrid Term',
    studentNumber : 'student0003' ,
    year: '2021/22',
    currentClass: 'JSS 3',
    result : {
      score:{
        english: 55,
        maths: 90,
        physcis: 89,
        chemistry: 77,
        biology: 72,
        crs: 95,
        civicEducation: 72,
        agric: 81,
        marketing: 75,
      },
      grade: {
        english: 'C4',
        maths: 'A1',
        physcis: 'A1',
        chemistry: 'A1',
        biology: 'A1',
        crs: 'A1',
        civicEducation: 'A1',
        agric: 'A1',
        marketing: 'A1',
      }
    }
  },{
    name: 'John David',
    term: 'First Term',
    studentNumber : 'student0004',
    year: '2022/23',
    currentClass: 'SSS 1',
    result : {
      score:{
        english: 60,
        maths: 62,
        physcis: 69,
        chemistry: 70,
        biology: 87,
        crs: 92,
        civicEducation: 55,
        agric: 91,
        marketing: 63,
      },
      grade: {
        english: 'B2',
        maths: 'B2',
        physcis: 'B2',
        chemistry: 'A1',
        biology: 'A1',
        crs: 'A1',
        civicEducation: 'C4',
        agric: 'A1',
        marketing: 'B2',
      }
    }
  },{
    name: 'John David',
    term: 'Second Term',
    studentNumber : 'student0005',
    year: '2022/23',
    currentClass: 'SSS 1',
    result : {
      score:{
        english: 69,
        maths: 60,
        physcis: 64,
        chemistry: 63,
        biology: 67,
        crs: 69,
        civicEducation: 61,
        agric: 60,
        marketing: 68,
      },
      grade: {
        english: 'B2',
        maths: 'B2',
        physcis: 'B2',
        chemistry: 'B2',
        biology: 'B2',
        crs: 'B2',
        civicEducation: 'B2',
        agric: 'B2',
        marketing: 'B2',
      }
    }
  },{
    name: 'John David',
    term: 'Thrid Term',
      studentNumber : 'student0006',
      year: '2022/23',
      currentClass: 'SSS 1',
      result : {
        score:{
          english: 80,
          maths: 45,
          physcis: 65,
          chemistry: 80,
          biology: 70,
          crs: 95,
          civicEducation: 40,
          agric: 91,
          marketing: 55,
        },
        grade: {
          english: 'A1',
          maths: 'D7',
          physcis: 'B2',
          chemistry: 'A1',
          biology: 'A1',
          crs: 'A1',
          civicEducation: 'E8',
          agric: 'A1',
          marketing: 'C4',
        }
      }
  },{
    name: 'John David',
    term: 'First Term',
      studentNumber : 'student0007',
      year: '2023/24',
      currentClass: 'SSS 2',
      result : {
        score:{
          english: 92,
          maths: 82,
          physcis: 78,
          chemistry: 90,
          biology: 88,
          crs: 95,
          civicEducation: 80,
          agric: 92,
          marketing: 83,
        },
        grade: {
          english: 'A1',
          maths: 'A1',
          physcis: 'A1',
          chemistry: 'A1',
          biology: 'A1',
          crs: 'A1',
          civicEducation: 'A1',
          agric: 'A1',
          marketing: 'A1',
        }
      }
  },{
    name: 'John David',
    term: 'Second Term',
      studentNumber : 'student0008',
      year: '2023/24',
      currentClass: 'SSS 2',
      result : {
        score:{
          english: 40,
          maths: 77,
          physcis: 79,
          chemistry: 39,
          biology: 72,
          crs: 88,
          civicEducation: 78,
          agric: 67,
          marketing: 77,
        },
        grade: {
          english: 'E8',
          maths: 'A1',
          physcis: 'A1',
          chemistry: 'F9',
          biology: 'A1',
          crs: 'A1',
          civicEducation: 'A1',
          agric: 'B2',
          marketing: 'A1',
        }
      }
  },{
      name: 'John David',
      term: 'Thrid Term',
      studentNumber : 'student0009',
      year: '2023/24',
      currentClass: 'SSS 2',
      result : {
        score:{
          english: 62,
          maths: 52,
          physcis: 66,
          chemistry: 62,
          biology: 74,
          crs: 47,
          civicEducation: 35,
          agric: 92,
          marketing: 85,
        },
        grade: {
          english: 'B2',
          maths: 'C4',
          physcis: 'B2',
          chemistry: 'B2',
          biology: 'A1',
          crs: 'D7',
          civicEducation: 'F9',
          agric: 'A1',
          marketing: 'A1',
        }
      }
  },{
    name: 'John David',
    term: 'First Term',
    studentNumber : 'student0010',
    year: '2024/25',
    currentClass: 'SSS 3',
    result : {
      score:{
        english: 70,
        maths: 60,
        physcis: 74,
        chemistry: 70,
        biology: 82,
        crs: 95,
        civicEducation: 43,
        agric: 95,
        marketing: 93,
      },
      grade: {
        english: 'A1',
        maths: 'B2',
        physcis: 'A1',
        chemistry: 'A1',
        biology: 'A1',
        crs: 'A1',
        civicEducation: 'E8',
        agric: 'A1',
        marketing: 'A1',
      }
    }
}];




function showResult (){
  //Get the value of the input field
  const examNumberInput = document.querySelector('#exam-no').value;
  const selectedTerm = document.querySelector('#term').value;
  const selectedYear = document.querySelector('#year').value;
  let studentResult = '';
  let resultHTML = '';

  //using the value of the input field loop through the studentDetails array to find a matching one from the input field
  studentDetails.forEach((studentDetail) =>{
    if(studentDetail.studentNumber === examNumberInput && studentDetail.term === selectedTerm && studentDetail.year === selectedYear){
      studentResult = studentDetail;
      console.log(studentDetail.term)
    } else{
      console.log('Invalid')
    }
  });

  //Display the result when a matching studentNumber is found
  if(studentResult){
    resultHTML = `
                <div class="container">
            <div class="border">
              <div class="school-name">
                <h2>World Best Secondary School</h2>
                <h2>${studentResult.term} ${studentResult.year} Terminal Result</h2>
              </div>
              <div class="student-details">
                <h2>${studentResult.name}</h2>
                <hr />
                <div class="flex">
                  <div>
                    <h2>${studentResult.studentNumber}</h2>
                    <h5>Student Exam No</h4>
                  </div>
                  <div>
                    <h2>${studentResult.term}</h2>
                    <h5>${studentResult.currentClass}</h4>
                  </div>
                  <div>
                    <img src="../Student_Profile_Image/Snapchat-1599006824~2.jpg" alt="" class="passport">
                  </div>
                </div>
              </div>
              <hr>
              <table>
                <tr>
                  <th>S/N</th>
                  <th>Subject</th>
                  <th>Score</th>
                  <th>Grade</th>
                </tr>
                <tr>
                  <td>1</td>
                  <td>English</td>
                  <td>${studentResult.result.score.english}</td>
                  <td>${studentResult.result.grade.english}</td>
                </tr>
                <tr>
                  <td>2</td>
                  <td>Mathematics</td>
                  <td>${studentResult.result.score.maths}</td>
                  <td>${studentResult.result.grade.maths}</td>
                </tr>
                <tr>
                  <td>3</td>
                  <td>Physics</td>
                  <td>${studentResult.result.score.physcis}</td>
                  <td>${studentResult.result.grade.physcis}</td>
                </tr>
                <tr>
                  <td>4</td>
                  <td>Biology</td>
                  <td>${studentResult.result.score.biology}</td>
                  <td>${studentResult.result.grade.biology}</td>
                </tr>
                <tr>
                  <td>5</td>
                  <td>Chemistry</td>
                  <td>${studentResult.result.score.chemistry}</td>
                  <td>${studentResult.result.grade.chemistry}</td>
                </tr>
                <tr>
                  <td>6</td>
                  <td>Civic Education</td>
                  <td>${studentResult.result.score.civicEducation}</td>
                  <td>${studentResult.result.grade.civicEducation}</td>
                </tr>
                <tr>
                  <td>7</td>
                  <td>CRS</td>
                  <td>${studentResult.result.score.crs}</td>
                  <td>${studentResult.result.grade.crs}</td>
                </tr>
                <tr>
                  <td>8</td>
                  <td>Agric Science</td>
                  <td>${studentResult.result.score.agric}</td>
                  <td>${studentResult.result.grade.agric}</td>
                </tr>
                <tr>
                  <td>9</td>
                  <td>Marketing</td>
                  <td>${studentResult.result.score.marketing}</td>
                  <td>${studentResult.result.grade.marketing}</td>
                </tr>
              </table>
            </div>
          </div>
    `
  }

  if(resultHTML){
    //updating the DOM
    document.querySelector('.result').innerHTML = resultHTML;
  } else{
    document.querySelector('.error').innerHTML = 'Invalid Credentials'
  }
}


//Add an event listner to the check result button
document.querySelector('.check-result').addEventListener('click', showResult);

//Toggle for the side bar
document.querySelector('.js-show').addEventListener('click', ()=>{
  document.getElementById('js-sidebar').style.marginLeft = 0;
});

document.querySelector('.js-close').addEventListener('click', () =>{
  document.getElementById('js-sidebar').style.marginLeft = '-250px'
});